---
title: Basit Node.js UygulamasÄ± Ve Heroku KullanÄ±mÄ±
sub-title: 
collection: restApi 
layout: blog-item
---

<p>Merhaba arkadaÅŸlar. BugÃ¼nkÃ¼ yazÄ±mda sizlere RestAPI, Node.js gibi kavramlardan bahsederek beraber basit bir RestAPI Ã¶rneÄŸi geliÅŸtirip, 
bu Ã¶rneÄŸimizi HEROKU platformuna nasÄ±l yÃ¼kleyeceÄŸimizi gÃ¶receÄŸiz.</p>
<p>Uygulama yazmaya baÅŸlamadan Ã¶nce uygulamayÄ± Ã§alÄ±ÅŸtÄ±rabilmek iÃ§in gerekli ortamlara sahip olmamÄ±z gerekli. Bunun iÃ§in ilk olarak eÄŸer 
bilgisayarÄ±mÄ±zda yoksa Node.js indirmemiz gerek. Node.js, genelde JavaScript ile yazÄ±lan komutlarÄ±n sunucu tarafÄ±nda Ã§alÄ±ÅŸmasÄ±nÄ± 
saÄŸlayan, aÄŸ baÄŸlantÄ±lÄ± uygulamalar iÃ§in geliÅŸtirilmiÅŸ bir Ã§alÄ±ÅŸtÄ±rma ortamÄ±dÄ±r. BilgisayarÄ±mÄ±zda Node.jsâ€™i edinmek iÃ§in 
<a href="https://nodejs.org/en/" target="_blank">kendi sitesinden</a> kolayca indirebiliriz.</p>
<img src="{{ base }}/assets/images/restApi/node.jpg" style="display: block; margin: auto;"><br>

<h4><b>Hello World UygulamasÄ±</b></h4>
{% highlight javascript %}
//Gerekli harici express modÃ¼lÃ¼ iÃ§in
var express=require('express');
var app=express();

app.get('/',function(req,res){ //bu metot http kÃ¶k dizinine istek gÃ¶nderiyoruz
	res.send('Hello World'); //hello world yanÄ±tÄ±nÄ± alÄ±yoruz
});

app.listen(8080,function(){ //uygulamamÄ±z localhost:8080 portunda Ã§alÄ±ÅŸacaktÄ±r
	console.log('Web Server is running at http://127.0.0.1:8080/');
});
{% endhighlight %}

<p>Node.js ile web uygulama geliÅŸtirmek iÃ§in <b>express</b> modÃ¼lÃ¼nÃ¼ kullanÄ±yoruz. Bu modÃ¼l uygulamamÄ±zda kullanacaÄŸÄ±mÄ±z <b>get</b> gibi metotlar 
iÃ§in gereklidir. UygulamayÄ± kendi kÃ¶k dizininde CMD aÃ§arak Ã§alÄ±ÅŸtÄ±racaÄŸÄ±z.</p>
<p>Ä°lk olarak <b>package.json</b> dosyasÄ±nÄ± oluÅŸturmak iÃ§in aÅŸaÄŸÄ±daki komutu Ã§alÄ±ÅŸtÄ±ralÄ±m.</p>
{% highlight language %}$ npm init{% endhighlight %}

<p>Daha sonra kodda kullandÄ±ÄŸÄ±mÄ±z harici modÃ¼lleri yani <b>express</b> modÃ¼lÃ¼mÃ¼zÃ¼ indirelim.</p>
{% highlight language %}$ npm install express -s{% endhighlight %}

<p>Harici indirme iÅŸlemlerini tamamladÄ±ktan sonra uygulamamÄ±zÄ± Ã§alÄ±ÅŸtÄ±rabiliriz.</p>
{% highlight language %}
$ node helloworld.js
{% endhighlight %}

<p>TarayÄ±cÄ±mÄ±zda <b>localhost:8080</b> portunu Ã§alÄ±ÅŸtÄ±rarak sonucu gÃ¶rebiliriz.</p>

<img src="{{ base }}/assets/images/restApi/helloworld.jpg" style="display: block; margin: auto;"><br>

<p>Bu ÅŸekilde basit ve temel bir <b>Node.js, Express</b> uygulamasÄ±nÄ± nasÄ±l Ã§alÄ±ÅŸtÄ±rabileceÄŸimizi gÃ¶rmÃ¼ÅŸ olduk. Buradan sonra sizlere bir JSON 
dosyasÄ±ndan Ã§ekilen verileri tarayÄ±cÄ±da nasÄ±l gÃ¶stereceÄŸimizden bahsedeceÄŸim ve ileride geliÅŸtireceÄŸimiz farklÄ± uygulamalarda bu verileri 
kullanabileceÄŸiz.</p>

<h4><b>NodeJS, Express, JSON ile Basit RestAPI Uygulama</b></h4>
<p>Åimdi birlikte adÄ±m adÄ±m gidelim. Ä°lk olarak bir klasÃ¶r iÃ§ine â€œ.jsonâ€ uzantÄ±lÄ± bir dosya oluÅŸturalÄ±m ve iÃ§ine istediÄŸimiz verileri 
JSON formatÄ±na uygun olarak yazalÄ±m. Benim Ã¶rnek JSON verilerim ÅŸu ÅŸekilde:</p>
{% highlight json %}
[
    {    
    "ad": "seher",   
    "soyad": "gÃ¼rel" 
    }
]
{% endhighlight %}

<p>Åimdi sÄ±ra Node.js kodlarÄ±mÄ±zÄ± yazmaya geldi. KlasÃ¶r iÃ§erisine <b>.js</b> uzantÄ±lÄ± ikinci bir dosya oluÅŸturalÄ±m iÃ§ine aÅŸaÄŸÄ±daki kodlarÄ± 
yazalÄ±m.</p>
{% highlight javascript %}
//express modÃ¼lÃ¼nÃ¼ tanÄ±mlayÄ±p baÅŸlatÄ±yoruz
var express = require("express");
var app = express();

var data = require("./app.json"); //app.json dosyamÄ±zdan verileri istiyoruz

//http sayfamÄ±za json dosyamÄ±zdaki verileri yanÄ±t olarak gÃ¶nderiyoruz
app.get("/", function(req, res) { 
  res.json(data);
});

app.listen(5000, function() {
	console.log("Server running on port 5000...");
});
{% endhighlight %}

<p>UygulamayÄ± Ã§alÄ±ÅŸtÄ±rmak iÃ§in yukarÄ±da da bahsettiÄŸim gibi uygulamanÄ±n bulunduÄŸu dizinde CMDt aÃ§alÄ±m ve sÄ±rasÄ±yla aÅŸaÄŸÄ±daki komutlarÄ± Ã§alÄ±ÅŸtÄ±ralÄ±m.</p>
{% highlight language %}
$ npm init
$ npm install express -s
$ node app.js
{% endhighlight %}

<p>TarayÄ±cÄ±da Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda aldÄ±ÄŸÄ±mÄ±z sonuÃ§ ÅŸu ÅŸekilde olacaktÄ±r.</p>
<img src="{{ base }}/assets/images/restApi/api.jpg" style="display: block; margin: auto;"><br>

<p>Buraya kadar <b>â€œREST API, yazÄ±lÄ±m geliÅŸtiricilerin HTTP protokolÃ¼nÃ¼ kullanarak GET ve POST gibi isteklerde bulunup, bu isteklere Ã§eÅŸitli 
formatlarda yanÄ±t aldÄ±ÄŸÄ± bir sistemdir.â€</b> tanÄ±mlamasÄ±nÄ± pratik yaparak kavramaya Ã§alÄ±ÅŸtÄ±k. Bundan sonraki adÄ±mda kendi geliÅŸtirdiÄŸimiz 
RestAPIâ€™mizi sadece local bilgisayarda deÄŸil farklÄ± ortamlarda da kullanabilmek iÃ§in neler yapabileceÄŸimizi konuÅŸacaÄŸÄ±z. APIâ€™mizi farklÄ± 
bilgisayarlarda da kullanabilmek iÃ§in bir domaine ihtiyacÄ±mÄ±z var. Ãœcretli sitelerden domain satÄ±n alabilir ya da Ã¼cretsiz bazÄ± 
platformlardan yararlanabiliriz. Ben kendi APIâ€™m iÃ§in sÄ±nÄ±rlÄ± sayÄ±da Ã¼cretsiz domain hakkÄ± sunan HEROKU platformundan faydalandÄ±m. Åimdi 
nasÄ±l adÄ±mlar izlememiz gerektiÄŸine bakalÄ±m.</p>

<h4><b>HEROKU</b></h4>
<p>Heroku, her dili desteklemiyor. <b>Node.js, Ruby, Java, PHP, Python, Go, Scala, Clojure</b> gibi dillerde yazÄ±lmÄ±ÅŸ uygulamalarÄ±nÄ±zÄ± Herokuâ€™ya 
yÃ¼kleyip Ã¼cretsiz domain kullanabilirsiniz. Kendi uygulamamÄ±zÄ± yÃ¼klemek iÃ§in ilk Ã¶nce hesap oluÅŸturmamÄ±z gerekli. Herokuâ€™nun kendi 
sitesine girerek hesap oluÅŸturabilirsiniz.</p>
<img src="{{ base }}/assets/images/restApi/herokucreate.jpg" style="display: block; margin: auto;"><br>

<p>Daha sonra uygulamalarÄ± kontrol edebilmek iÃ§in <b>Heroku CLI</b> kurulumumuzu yapmamÄ±z gerek.</p>
<img src="{{ base }}/assets/images/restApi/herokucli.jpg" style="display: block; margin: auto;"><br>

<p>KullandÄ±ÄŸÄ±nÄ±z iÅŸletim sistemine uygun baÄŸlantÄ±dan indirme iÅŸlemini yapabilirsiniz. Ben Windows kullandÄ±ÄŸÄ±m iÃ§in ÅŸekildeki baÄŸlantÄ±yÄ± 
indirdim. Ä°ndirilen dosyadan basit ve hÄ±zlÄ±ca HerokuCLI kurulumumuzu tamamlÄ±yoruz. Sorunsuz bir ÅŸekilde kurulumu tamamladÄ±ÄŸÄ±mÄ±zÄ± 
teyit etmek iÃ§in command prompt aÃ§arak versiyon kontrolÃ¼ yapalÄ±m.</p>
<img src="{{ base }}/assets/images/restApi/herokuversion.jpg" style="display: block; margin: auto;"><br>

<p>Buradan sonra yapmamÄ±z gereken birkaÃ§ ÅŸey var. Heroku ile uygulamayÄ± Ã§alÄ±ÅŸtÄ±rabilmemiz iÃ§in bu dizin iÃ§erisinde bazÄ± eklemeler ve 
deÄŸiÅŸiklikler yapacaÄŸÄ±z. Ä°lk Ã¶nce <b>procfile</b> isimli uzantÄ±sÄ±z bir dosya oluÅŸturalÄ±m ve iÃ§erisine aÅŸaÄŸÄ±daki satÄ±rÄ± ekleyelim.</p>
{% highlight language %}
$ web: node app.js
{% endhighlight %}

<p>Herokuâ€™da Ã§eÅŸitli iÅŸlem tÃ¼rlerini bildirmek iÃ§in <b>procfile</b> dosyasÄ± gereklidir. Daha detaylÄ± bilgi iÃ§in <a href="https://devcenter.heroku.com/articles/procfile" target="_blank">bu linkten</a> faydalanabilirsiniz.</p>
<p>Daha sonra kodumuzun iÃ§erisinde aÅŸaÄŸÄ±daki deÄŸiÅŸiklikleri yapÄ±yoruz.</p>
{% highlight javascript %}
//Harici modÃ¼ller
const express = require("express");
const app = express();
//bu uygulamayÄ± baÅŸka uygulamalarda da Ã§alÄ±ÅŸtÄ±rabilmek iÃ§in cors modÃ¼lÃ¼nÃ¼ kullanÄ±yoruz
const cors = require('cors');
app.use(cors());
app.options('*', cors());

//Ã–nceden yapÄ±landÄ±rÄ±lmÄ±ÅŸ bir baÄŸlantÄ± noktasÄ± yoksa PORT 5000'i kullan
const PORT = process.env.PORT || 5000

var data = require("./app.json");

app.get("/", function(req, res) {
  res.json(data);
});

app.listen(PORT, function() {
  console.log("Server running on port 5000...");
});
{% endhighlight %}

<p><b>cors</b> modÃ¼lÃ¼nÃ¼ kullanmadÄ±ÄŸÄ±mÄ±z takdirde uygulamamÄ±z baÅŸka platform ya da uygulamalarda Ã§alÄ±ÅŸmayacaktÄ±r. Bu modÃ¼l ile uygulmamÄ±zÄ± herokuda 
ya da geliÅŸtirdiÄŸimiz farklÄ± uygulamalarda kullanabiliriz. Port deÄŸiÅŸkenindeki deÄŸiÅŸikliÄŸin sebebi ise, Heroku gibi ortamlarda portun 
dÃ¼zgÃ¼n Ã§alÄ±ÅŸmasÄ± iÃ§in bu ÅŸekilde belirtilmesi daha uygundur. Kodumuzdaki deÄŸiÅŸiklikleri kaydettikten sonra local olarak Ã§alÄ±ÅŸtÄ±rÄ±p kontrol 
edelim.</p>
{% highlight language %}
$ npm init
$ npm install express -s
$ npm install cors -s
$ node app.js
{% endhighlight %}
<img src="{{ base }}/assets/images/restApi/api.jpg" style="display: block; margin: auto;"><br>

<p>GÃ¶rdÃ¼ÄŸÃ¼mÃ¼z gibi uygulamamÄ±z local bilgisayarÄ±mÄ±zda yaptÄ±ÄŸÄ±mÄ±z deÄŸiÅŸiklikler sonucu da sorunsuz bir ÅŸekilde Ã§alÄ±ÅŸtÄ±. Buraya kadar 
sorun yoksa esas kÄ±sma geÃ§ebiliriz. UygulamayÄ± Github Ã¼zerinden yÃ¼kleyeceÄŸimiz iÃ§in Ã¶nce Githubâ€™da yeni bir proje oluÅŸturalÄ±m.</p>
<img src="{{ base }}/assets/images/restApi/githubrepo.jpg" style="display: block; margin: auto;"><br>

<p>Daha sonra <b>Github Bash</b> kullanarak uygulamayÄ± Github projemize aÅŸaÄŸÄ±daki komutlar ile ekleyelim.</p>
<img src="{{ base }}/assets/images/restApi/gitbash.jpg" style="display: block; margin: auto;"><br>
{% highlight language %}
$ git init
$ git add .
$ git commit -m "first commit"
$ git remote add origin https://github.com/shrgrl/example-rest-api.git
$ git push -u origin master
{% endhighlight %}

<p>BÃ¼tÃ¼n komutlar bittikten sonra uygulamamÄ±z Github projemize yÃ¼klenmiÅŸ demektir.</p>
<img src="{{ base }}/assets/images/restApi/githubrepo2.jpg" style="display: block; margin: auto;"><br>

<p>Daha sonra Github projemizi bilgisayarÄ±mÄ±za clone edeceÄŸiz ve Heroku'ya yÃ¼kleyeceÄŸiz. Daha detaylÄ± bilgi iÃ§in Herokuâ€™nun kendi 
sitesindeki Node.js projelerinin yÃ¼klenmesi ile ilgili yazÄ±ya <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs" target="_blank">buradan</a> bakabilirsiniz.</p>

<p>Ä°lk Ã¶nce CMD aÃ§Ä±yoruz ve Heroku ile Ã§alÄ±ÅŸmak iÃ§in aÅŸaÄŸÄ±daki komutu yazÄ±yoruz ve tarayÄ±cÄ±da aÃ§Ä±lan ekrandan giriÅŸ yapÄ±yoruz.</p>
{% highlight language %}
$ heroku login
{% endhighlight %}
<img src="{{ base }}/assets/images/restApi/herokulogin.jpg" style="display: block; margin: auto;"><br>
<img src="{{ base }}/assets/images/restApi/herokulogin2.jpg" style="display: block; margin: auto;"><br>

<p>BaÅŸarÄ±lÄ± bir ÅŸekilde giriÅŸi tamamladÄ±ktan sonra Github projemizi bilgisayarÄ±mÄ±za clone ediyoruz.</p>
{% highlight language %}
$ git clone https://github.com/shrgrl/restapi-for-blog.git
$ cd restapi-for-blog
{% endhighlight %}

<p>Åimdi bir Heroku projesi oluÅŸturalÄ±m ve tÃ¼m dosyalarÄ±mÄ±zÄ± bu projeye ekleyelim. Ä°sterseniz benim gibi kendiniz isimlendirebilirsiniz 
ya da herhangi bir isim yazmayarak Herokuâ€™nun rastgele isim vermesini saÄŸlayabilirsiniz.</p>
{% highlight language %}
$ heroku create restapi-for-blog
{% endhighlight %}
<img src="{{ base }}/assets/images/restApi/herokucreate2.jpg" style="display: block; margin: auto;"><br>

<p>Yeni projeyi baÅŸarÄ±lÄ± bir ÅŸekilde oluÅŸturduÄŸumuzdan emin olalÄ±m Ã§Ã¼nkÃ¼ Heroku isimlendirme konusunda biraz seÃ§ici olabiliyorğŸ˜Š Son iÅŸlem 
olarak da uygulamayÄ± oluÅŸturduÄŸumuz Heroku projesine yÃ¼kleyeceÄŸiz.</p>
{% highlight language %}
$ git push heroku master
{% endhighlight %}

<p>HatasÄ±z sonuÃ§ elde ettiÄŸimizden emin olalÄ±m. EÄŸer herÅŸey yolunda gitmiÅŸse bu komutun Ã§alÄ±ÅŸmasÄ± bittikten sonra Ã§Ä±ktÄ±nÄ±n son kÄ±smÄ±nda 
aÅŸaÄŸÄ±dakine benzer bir sonuÃ§ olmalÄ±dÄ±r.</p>
<img src="{{ base }}/assets/images/restApi/done.jpg" style="display: block; margin: auto;"><br>

<p>UygulamamÄ±z baÅŸarÄ±lÄ± ÅŸekilde yÃ¼klendi ve ÅŸimdi Ã§alÄ±ÅŸtÄ±rabiliriz.</p>
{% highlight language %}
$ heroku open
{% endhighlight %}

<p>Komutunun ardÄ±ndan tarayÄ±cÄ±da otomatik bir sekme aÃ§Ä±lacaktÄ±r.</p>
<img src="{{ base }}/assets/images/restApi/herokuapp.jpg" style="display: block; margin: auto;"><br>

<p>Ya da Heroku hesabÄ±nÄ±zda oluÅŸturduÄŸunuz projenin saÄŸ Ã¼st kÃ¶ÅŸesindeki <b>Open app</b> sekmesine tÄ±klayarak Ã§alÄ±ÅŸtÄ±rabilirsiniz.</p>
<img src="{{ base }}/assets/images/restApi/herokuopen.jpg" style="display: block; margin: auto;"><br>

<p>ArtÄ±k Ã¼cretsiz bir RestAPI domaine sahipsiniz.</p>
<img src="{{ base }}/assets/images/restApi/domain.jpg" style="display: block; margin: auto;"><br>

<p>DilediÄŸiniz projelerde bu APIâ€™yi kullanabilirsiniz. Verileri Ã¼cretsiz APIâ€™ye dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in bu yazÄ±m umarÄ±m sizler iÃ§in de faydalÄ± 
olur. Bir sonraki yayÄ±nda gÃ¶rÃ¼ÅŸmek Ã¼zere...&#128151;</p>

<div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://sehergurel-com-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<script id="dsq-count-scr" src="//sehergurel-com-1.disqus.com/count.js" async></script>
