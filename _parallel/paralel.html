---
title: Paralel Programlama ile Resim Filtreleme Uygulamaları
layout: project-item
order: 3
---

<p>
  Herkese merhaba. Bu proje 4 farklı uygulama içeriyor. Her bir uygulama farklı paralellism teknikleri kullanılarak filtreleme işlemleri yapıyor. Şimdi uygulamaları birlikte inceleyelim.
  Kaynak kodlar için Github hesabımı takip edebilirsiniz:
</p>

<p><a href="https://github.com/shrgrl/parallelImageFiltering" target="_blank" class="btn btn-sasha-darkest"><i class="fab fa-github"></i>Fork me</a></p>

<h5 class="txt-weight-bold">Technologies</h5>
<ul>
  <li>MPI</li>
  <li>OpenMP</li>
  <li>C++</li>
</ul>

<h5 class="txt-weight-bold">Paralel Programlama</h5>
<p>Paralel Programlama basit şekliyle, bir problemin çözümünde birden çok hesaplama kaynağının aynı anda kullanılmasıdır.</p>
<ul>
  <li>Problemin çözümünde birden çok işlemci kullanılır.</li>
  <li>Problem eşzamanlı çözülmek için farklı parçalara bölünür.</li>
  <li>Her parça farklı komut serilerine bölünür.</li>
  <li>Komutlar aynı anda farklı işlemciler üzerinde işlenir.</li>
</ul>

<p>Bu projede, her bir uygulama farklı paralellism teknikleri kullanılarak filtreleme işlemleri yapmaktadır. Uygulamaları çalıştırmak için Ubuntu işletim sistemi edinmeniz gerekmekte. Bilgisayarınıza kurmak istemiyorsanız VirtualMachine sanal ortamına kurarak çalıştırabilirsiniz.
Uygulamaların hepsinde aynı görüntü ve matrisleri kullanıldığı için tek bir görüntü, görüntü matrisi ve script dosyası üzerinden işlem yapıldı.</p>

<h5 class="txt-weight-bold">filter1 Uygulaması</h5>
<p>Ubuntu'da bir terminal açıp projenin bulunduğu dizine gidiyoruz. filter1.cpp uygulamasını çalıştırmak için ilk adım olarak;</p>
{% highlight javascript %}
g++ filter1.cpp
{% endhighlight %}

<p>yazarak bir a.out dosyası oluşturuyoruz. Şimdi bizim görüntü matrisimizi işleyerek filtrelenmiş bir görüntü matrisi elde etmemiz gerekli. Bunun için;</p>
{% highlight javascript %}
./a.out GoruntuMatrisi1.txt
{% endhighlight %}

<p>yazıyoruz ve filtrelenmiş görüntü matrisi olan GoruntuMatrisi1_filtered.txt dosyasını elde ediyoruz. Filtrelenmiş görüntüyü elde etmek için bu matrisi kullanacağız.</p>

<p>Şimdi script dosyasını çalıştırarak filtrelenmiş görüntüyü elde edeceğiz. Bu işlemi yapmadan önce karşımıza çıkacak muhtemel paket yüklemelerini yapmamız gerekli. Bunun için octave paketine ihtiyacımız var. İndirmek için aşağıdaki adımları izleyebilirsiniz.</p>
{% highlight javascript %}
sudo add-apt-repository ppa:octave/stable
sudo apt-get update
sudo apt-get install octave
{% endhighlight %}

<p>Paket yüklemelerini bitirdikten sonra projemizin son adımı tamamlayabiliriz.</p>
{% highlight javascript %}
./Proje1Script.sh GoruntuMatrisi1_filtered.txt
{% endhighlight %}

<p>Çalıştırdıktan sonra orjinal Goruntu1.bmp görüntüsü ile filtrelenmiş görüntü aşağıdaki gibi olacaktır.</p>
<a href="{{ base }}/assets/images/projects/parallel/img1.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img1.jpg" alt=""></a><br/>
<a href="{{ base }}/assets/images/projects/parallel/img2.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img2.jpg" alt=""></a><br/>

<h5 class="txt-weight-bold">filter2 Uygulaması</h5>
<p>Bu uygulamada farklı bir teknik olarak <b>MPI</b> kütüphanesi kullanıldı. MPI, paralel programlama amacıyla kullanılan bir platformdur. MPI temel olarak birden fazla bilgisayarın 
  üzerinde aynı programın çalıştırılması ve bu çalıştırma sırasında programların birbiri ile iletişime geçerek birbirinden veri transfer etmesine dayanır. MPI ile işimizi 
  bilgisayarlara dağıtabildiğimiz gibi bir bilgisayar üzerinde de birden fazla iş (process) çalıştırmamız mümkündür. Dolayısyla örneğin 10 bilgisayarın bulunduğu bir ortamda 
  her bilgisayarda 3’er iş çalıştırılırsa bu durumda toplam 30 iş çalışmış olur. Yani programımız sanki 30 farklı bilgisayarda çalışıyormuş gibi davranmak zorundadır.</p>

<p>Ubuntu'da bir terminal açıp projenin bulunduğu dizine gidiyoruz. filter1.cpp uygulamasını çalıştırmak için ilk adım olarak gerekli MPI kütüphanesini indirmemiz gerekiyor. Sırayla aşağıdaki işlemleri yapabilirsiniz:</p>
{% highlight javascript %}
sudo apt install libmpich-dev
sudo apt install libopenmpi-dev
{% endhighlight %}

<p>İndirme işlemlerini tamamladıktan sonra projemizi çalıştırabiliriz. İlk olarak;</p>
{% highlight javascript %}
mpicxx filter2.cpp
{% endhighlight %}

<p>ile bir a.out dosyası oluşturduk. Daha sonra;</p>
{% highlight javascript %}
mpi run -np 4 ./a.out
{% endhighlight %}

<p>Programın kaç kere çalışmasını istiyorsanız 4 yerine herhangi bir çift sayı yazabilirsiniz. Bu işlemin ardından filtrelenmiş görüntünün matrisini elde edeceğiz. Daha sonra;</p>
{% highlight javascript %}
./Proje1Script.sh GoruntuMatrisi1_filtered.txt
{% endhighlight %}

<p>komutunu yazarak filtrelenmiş görüntüyü elde ediyoruz. Sonuçlar aşağıdaki gibi olacaktır.</p>
<a href="{{ base }}/assets/images/projects/parallel/img1.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img1.jpg" alt=""></a><br/>
<a href="{{ base }}/assets/images/projects/parallel/img2.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img2.jpg" alt=""></a><br/>

<h5 class="txt-weight-bold">filter3 Uygulaması</h5>
<p>Bu uygulama da MPI kütüphanesi kullanılarak yazıldı. Çalışması sırayla;</p>
{% highlight javascript %}
mpicxx filter3.cpp
mpi run -np 4 ./a.out
./Proje1Script.sh GoruntuMatrisi1_filtered.txt
{% endhighlight %}

<p>Ve sonuç;</p>
<a href="{{ base }}/assets/images/projects/parallel/img1.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img1.jpg" alt=""></a><br/>
<a href="{{ base }}/assets/images/projects/parallel/img2.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img2.jpg" alt=""></a><br/>

<h5 class="txt-weight-bold">filter4 Uygulaması</h5>
<p>Bu uygulamada <i>OPENMP</i> kütüphanesi kullanıldı. OpenMP paralel programlama işini kolaylaştıran bir API’dir. Çalışma prensibi, paralel işletilmesi gereken kısımlarda dallanır, paralel çalışıp işlem bitince tekrar birleşmesi şeklinde olur. 
  Uygulamamızda kullanabilmek için öncelikle gerekli indirmeleri yapmalıyız.</p>
{% highlight javascript %}
sudo apt-get install libomp-dev
{% endhighlight %}

<p>Sorunsuz şekilde indirmelerimizi tamamladıktan sonra uygulamayı çalıştırabiliriz.</p>
{% highlight javascript %}
g++ filter4.cpp -fopenmp
./a.out GoruntuMatrisi1.txt
./Proje1Script.sh GoruntuMatrisi1_filtered.txt
{% endhighlight %}

<p>Çalıştırdıktan sonra orjinal ve filtrelenmiş görüntü aşağıdaki gibi olacaktır:</p>
<a href="{{ base }}/assets/images/projects/parallel/img1.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img1.jpg" alt=""></a><br/>
<a href="{{ base }}/assets/images/projects/parallel/img2.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/projects/parallel/img2.jpg" alt=""></a><br/>







