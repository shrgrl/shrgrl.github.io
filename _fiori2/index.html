---
title: ODATA Web Service UygulamasÄ±
sub-title: ODATA, Destinations, CRUD Ä°ÅŸlemler
collection: fiori2 
layout: blog-item
---

<p>Herkese merhaba. Ã–nceki yazÄ±mda sizlerle beraber Fioriâ€™ye kÃ¼Ã§Ã¼k bir giriÅŸ yapmÄ±ÅŸtÄ±k ve herhangi bir web servise baÄŸlamadan kÃ¼Ã§Ã¼k Ã¶rnekler gÃ¶stermiÅŸtik. BugÃ¼n ise iÅŸi bir adÄ±m ileri gÃ¶tÃ¼rerek 
  kendi ODATA servisimizi oluÅŸturup CRUD(Create, Read, Update, Delete) iÅŸelemler yapabileceÄŸimiz temel bir Ã¶rnek ile konumuzu pekiÅŸtireceÄŸiz.</p>

<h4><b>ODATA SERVICES</b></h4>
<p>SAPâ€™nin farklÄ± istemciler ile veri alÄ±ÅŸveriÅŸi saÄŸladÄ±ÄŸÄ± bir servis yapÄ±sÄ±dÄ±r. Bu veri alÄ±ÅŸveriÅŸini GUI tarafÄ±nda yazdÄ±ÄŸÄ±mÄ±z ABAP kodlarÄ± ile iÅŸlemler yaparak saÄŸlÄ±yoruz. 
  Servisler temel olarak varlÄ±klar<i>(entity)</i>, bu varlÄ±klarÄ±n Ã¶zellikleri<i>(property)</i> ve bu varlÄ±klara baÄŸlÄ± <i>metot</i>larâ€™dan oluÅŸur. ODATA servisleri iÃ§in GUIâ€™de 
  <b><i>SEGW</i></b> t-code ile iÅŸlemler yapÄ±lÄ±r. ODATA servisler ile kullanabildiÄŸimiz HTTP request tipleri: 
</p>
<a href="{{ base }}/assets/images/odata/request_type.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/request_type.jpg" alt="HTTP Request Tipleri"></a><br>

<h4><b>DESTINATIONS</b></h4>
<p>Local Web Ideâ€™de Ã§alÄ±ÅŸÄ±rken eÄŸer bir servise baÄŸlÄ± Ã§alÄ±ÅŸacaksak, hangi sistem ile Ã§alÄ±ÅŸÄ±yorsak o sisteme ait destination dosyasÄ±nÄ± bulundurmamÄ±z gereklidir. Ä°ÅŸte benim 
  kullandÄ±ÄŸÄ±m Ã¶rnek destination dosyasÄ±:
</p>
<a href="{{ base }}/assets/images/odata/destination1.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/destination1.jpg" alt=""></a><br>

<p>Bu dosyadaki bilgileri hangi sistemde Ã§alÄ±ÅŸÄ±yorsak o sistemin bilgileri ile doldurmamÄ±z gereklidir. Peki bu bilgileri nasÄ±l Ã¶ÄŸreniyoruz? GUIâ€™de <b><i>WEBGUI</i></b> t-codeâ€™unu yazdÄ±ÄŸÄ±mÄ±z 
  zaman karÅŸÄ±mÄ±za bÃ¶yle bir pop-up Ã§Ä±kÄ±yor:
</p>
<a href="{{ base }}/assets/images/odata/webgui.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/webgui.jpg" alt=""></a><br>

<p>URL kÄ±smÄ±nda ben kendi local sistemimizin sunucusunu yazdÄ±m ve bu pop-upâ€™da gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi portu 8000 yazdÄ±m. FarklÄ± bir sistemde Ã§alÄ±ÅŸacaÄŸÄ±mÄ±z zaman URL kÄ±smÄ±na yazacaÄŸÄ±mÄ±z 
  sunucu adresi kÄ±rmÄ±zÄ± kutucuk iÃ§ine aldÄ±ÄŸÄ±m yerde yazÄ±yor olacak. Bunu Ã¶ÄŸrenmenin bildiÄŸim en kÄ±sa yolu bu ğŸ˜Š Description ve WebIdeSystem bilgilerini girdikten sonra Client bilgisini de GUI ekranÄ±mÄ±zÄ±n saÄŸ alt kÃ¶ÅŸesindeki bilgiden Ã¶ÄŸrenebiliriz:
</p>
<a href="{{ base }}/assets/images/odata/client.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/client.jpg" alt=""></a><br>

<p>Geri kalan kÄ±sÄ±mlar da standart alanlardÄ±r. Local Web Ideâ€™de bu ÅŸekilde manual oluÅŸturulduÄŸu gibi SAP Cockpitâ€™de destination tanÄ±mladÄ±ÄŸÄ±mÄ±z kÄ±sÄ±mdan da tanÄ±mlayÄ±p export 
  ederek o dosyayÄ± kullanabiliriz.
</p>
<a href="{{ base }}/assets/images/odata/destination2.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/destination2.jpg" alt=""></a><br>
<a href="{{ base }}/assets/images/odata/new_destination.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/new_destination.jpg" alt=""></a><br>
      
<p>YukarÄ±daki dosya iÃ§ine yazdÄ±ÄŸÄ±mÄ±z bilgileri ilgili alanlara doldurarak destination tanÄ±mlayabiliriz. Destination dosyamÄ±zÄ± hazÄ±rladÄ±ktan sonra daha Ã¶nce Local Web Ide 
  kullanmak bir klasÃ¶r oluÅŸturmuÅŸtuk. Bu klasÃ¶r iÃ§indeki <b><i>C:\SAPLocalWebIDE\eclipse\config_master\service.destinations\destinations</i></b> dosya yoluna bunu bu dosyayÄ± yapÄ±ÅŸtÄ±rmalÄ±yÄ±z. ArtÄ±k tanÄ±mladÄ±ÄŸÄ±mÄ±z destination projelerde 
  kullanabiliriz. Okumayanlar Local Web Ide KullanÄ±mÄ± ile ilgili yazÄ±ma <a href="https://sehergurel.com/fiori1/" target="_blank">buradan</a> ulaÅŸabilir.Bunun ardÄ±ndan servis ve proje oluÅŸturma adÄ±mÄ±na geÃ§eceÄŸiz, gerekli detaylarÄ± proje oluÅŸturma ve geliÅŸtirme esnasÄ±nda vereceÄŸim.
</p>
<a href="{{ base }}/assets/images/odata/destination3.jpg" data-toggle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/destination3.jpg" alt=""></a><br>
    
<h4><b>ODATA SERVICE OLUÅTURMA</b></h4>
<p>SEGW t-codeâ€™umuza giderek servisimizi oluÅŸturalÄ±m ve istenilen bilgileri girip tamamlayalÄ±m.</p>
<a href="{{ base }}/assets/images/odata/service1.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service1.jpg" alt=""></a><br>
    
<p>YapmamÄ±z gereken ilk iÅŸ bir Entity Type oluÅŸturmak:</p>
<a href="{{ base }}/assets/images/odata/service2.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service2.jpg" alt=""></a><br>
  
<p>KarÅŸÄ±mÄ±za aÅŸaÄŸÄ±daki gibi ekran Ã§Ä±kacak. Buradan gerekli isimlendirmeyi yaparak devam edelim. Burada oluÅŸturduÄŸumuz Entity Type yapÄ±sÄ±nÄ± ABAPâ€™daki structure yapÄ±sÄ± gibi 
   dÃ¼ÅŸÃ¼nebiliriz. YukarÄ±da da belirttiÄŸimiz gibi servisler <b>entity, property ve metot</b>larâ€™dan oluÅŸur.</p>    
<a href="{{ base }}/assets/images/odata/service3.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service3.jpg" alt=""></a><br>
    
<p>Propertiesâ€™e Ã§ift tÄ±kladÄ±ktan sonra aÃ§Ä±lan ekranda bu projede ihtiyaÃ§ duyacaÄŸÄ±mÄ±z property'leri tanÄ±mladÄ±m. TanÄ±mladÄ±ÄŸÄ±m propertyâ€™ler yukarÄ±da Properties klasÃ¶rÃ¼nÃ¼n altÄ±nda 
  gÃ¶rÃ¼nÃ¼yor.</p>
<a href="{{ base }}/assets/images/odata/service4.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service4.jpg" alt=""></a><br>

<p>Bu tanÄ±mlamalarÄ± yaparken her propertyâ€™nin tipini uygun ÅŸekilde belirtiyoruz. Fakat tarih ile ilgili kÄ±sÄ±mda farklÄ± bir ayrÄ±ntÄ± var. Default tanÄ±mlÄ± hali bizim kullanÄ±mÄ±mÄ±za
  uygun olmadÄ±ÄŸÄ± iÃ§in editÃ¶rden kendimize uygun ÅŸekilde ayarlamamÄ±zÄ± yapmalÄ±yÄ±z.</p>
<a href="{{ base }}/assets/images/odata/service5.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service5.jpg" alt=""></a><br>

<p>Bunu da tamamladÄ±ktan sonra buradaki Ã¶zellikleri Fiori tarafÄ±nda kullanabilmek iÃ§in ListSetâ€™e Ã§ift tÄ±klayarak gelen ekranda Addressible seÃ§eneÄŸini iÅŸaretlemeliyiz.</p>
  <a href="{{ base }}/assets/images/odata/service6.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service6.jpg" alt=""></a><br>  

<p>Åimdi servisimizi Generate edelim. Bunun iÃ§in ekranÄ±n sol Ã¼st kÃ¶ÅŸesindeki kÄ±rmÄ±zÄ±lÄ± icona tÄ±klÄ±yoruz. TÄ±kladÄ±ktan sonra aÃ§Ä±lan request alanÄ±na istediÄŸimiz requesti yazalÄ±m 
  ya da yeni request alabilirsiniz.</p>
<a href="{{ base }}/assets/images/odata/service7.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service7.jpg" alt=""></a><br>  

<p>Tamam dedikten sonra gelen pop-upâ€™da bizim servisimiz iÃ§in oluÅŸacak bÃ¼tÃ¼n class bilgileri gÃ¶sterilecek.</p>
<a href="{{ base }}/assets/images/odata/service8.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service8.jpg" alt=""></a><br> 

<p>Bunlara da tamam diyelim. SÄ±radaki pop-upâ€™larda yine package ve request bilgisi istenecek. Bunlara da kendi package ve request bilgilerimizi girerek ilerleyelim.
BÃ¼tÃ¼n iÅŸlemler sonrasÄ±nda hatasÄ±z ÅŸekilde generate etmiÅŸ olmalÄ±yÄ±z:
</p>
<a href="{{ base }}/assets/images/odata/service9.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service9.jpg" alt=""></a><br> 

<p>Buraya kadar geldik ama hala servisimizi kullanabilir durumda deÄŸiliz. Son olarak <i><b>/n/iwfnd/maint_service</b></i> t-codeâ€™umua gidelim. Burada sistemdeki standart ve Zâ€™li eklenmiÅŸ servisler gÃ¶rÃ¼nÃ¼yor. 
<i>Fakat burada bir ayrÄ±ntÄ± belirtmeliyim. Biz Ã¶ÄŸrenme aÅŸamamÄ±zda local sistemler ile Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z iÃ§in bÃ¼tÃ¼n iÅŸlemleri tek bir GUI ekranÄ± Ã¼zerinden yaptÄ±k. Fakat farklÄ± bir sistemde bu iÅŸlemleri yapmamÄ±z gerektiÄŸi zaman yani ERP ve GW sistemleri ayrÄ± olduÄŸu durumlarda servis oluÅŸturma iÅŸlemi ERPâ€™de bu Hizmet ekleme iÅŸlemi GWâ€™de yapÄ±lÄ±r.</i></p>
<a href="{{ base }}/assets/images/odata/service10.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service10.jpg" alt=""></a><br> 

<p>Åimdi servisi oluÅŸturduÄŸumuz sisteme gÃ¶re sistem takma adÄ± giriyoruz ve karÅŸÄ±mÄ±za oluÅŸturulmuÅŸ servisler Ã§Ä±kacak:</p>
<a href="{{ base }}/assets/images/odata/service11.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service11.jpg" alt=""></a><br>

<p>Kendi servisimizi bulduktan sonra Ã¼zerine tÄ±klayalÄ±m ve Ã§Ä±kan pop-upâ€™da bir deÄŸiÅŸiklik yapmadan tamam diyelim.</p>
<a href="{{ base }}/assets/images/odata/service12.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service12.jpg" alt=""></a><br>

<p>KarÅŸÄ±mÄ±za peÅŸpeÅŸe request pop-upâ€™larÄ± gelecek. Atlamadan hepsini onaylayalÄ±m. En son baÅŸarÄ±lÄ± mesajÄ± almamÄ±z gerek. Tamam dedikten sonra servisimizi eklenmiÅŸ ÅŸekilde 
  gÃ¶receÄŸiz.</p>
<a href="{{ base }}/assets/images/odata/service13.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/service13.jpg" alt=""></a><br> 
    
<p>Servisimizi oluÅŸturduÄŸumuza gÃ¶re artÄ±k Fiori projemizi oluÅŸturalÄ±m ve iÃ§ini yavaÅŸ yavaÅŸ dolduralÄ±m.</p>   

<h4><b>ODATA SERVICE Ä°LE SAPUI5 UYGULAMASI OLUÅTURMA</b></h4>

<p>Yine bir Ã¶nceki yazÄ±da bahsettiÄŸim gibi Orion dosyamÄ±zÄ± Ã§alÄ±ÅŸtÄ±ralÄ±m. Ve local VPN baÄŸlantÄ±mÄ±zÄ± yapalÄ±m.
Local <a href="http://localhost:8080/webide/index.html" target="_blank">Web Ide</a> linkimizi aÃ§alÄ±m ve hesabÄ±mÄ±za giriÅŸ yapalÄ±m. Yeni proje oluÅŸturalÄ±m.
</p>
<a href="{{ base }}/assets/images/odata/proje1.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje1.jpg" alt=""></a><br>

<p>Bu sefer servis kullanacaÄŸÄ±mÄ±z iÃ§in Fiori Worklist Application seÃ§eceÄŸiz.</p>
<a href="{{ base }}/assets/images/odata/proje2.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje2.jpg" alt=""></a><br>

<p>Ä°lerleyelim ve vermek istediÄŸimiz isimlendirmeleri yapalÄ±m.</p>
<a href="{{ base }}/assets/images/odata/proje3.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje3.jpg" alt=""></a><br>

<p>Åimdi oluÅŸturduÄŸumuz destination dosyasÄ±nÄ± burada seÃ§iyoruz ve kullanÄ±cÄ± bilgilerimizi giriyoruz.</p>
<a href="{{ base }}/assets/images/odata/proje4.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje4.jpg" alt=""></a><br>

<p>Tamam dedikten sonra eklediÄŸimiz servisimizi seÃ§elim.</p>
<a href="{{ base }}/assets/images/odata/proje5.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje5.jpg" alt=""></a><br>

<p>Bir sonraki ekranda yapacaÄŸÄ±mÄ±z seÃ§imler:</p>
<a href="{{ base }}/assets/images/odata/proje6.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje6.jpg" alt=""></a><br>

<p>Burada App Type alanÄ±nda 2 farklÄ± seÃ§enek var. EÄŸer SAP Fiori Launchpad Component seÃ§eneÄŸini seÃ§ersek, bu uygulamamÄ±zÄ± Launcpad uygulamasÄ± olarak kullanacaÄŸÄ±mÄ±z anlamÄ±na 
  geliyor. Standalone App seÃ§ersek de bu uygulamamÄ±zÄ± bir link ile direct browserdan Ã§alÄ±ÅŸtÄ±rÄ±labilir bir uygulama olarak kullanabileceÄŸimiz anlamÄ±na geliyor. Biz de ÅŸimdilik 
  Standalone seÃ§elim.</p>
<a href="{{ base }}/assets/images/odata/proje7.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje7.jpg" alt=""></a><br>

<p>AÅŸaÄŸÄ±daki ifadelerin ÅŸimdilik Ã§ok bir anlamÄ± yok. Zaten uygulamayÄ± geliÅŸtirme esnasÄ±nda tasarÄ±m deÄŸiÅŸecek. Fakat bu ifadelerin ne anlama geldiÄŸini gÃ¶rmek istiyorsanÄ±z da bu ekran Ã¼zerinde saÄŸda kutucuk iÃ§eriisindeki resimde aÃ§Ä±klÄ±yor, oradan bakabilirsiniz.
Ä°lerleyelim ve uygulamamÄ±zÄ± ilk Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda bizi nasÄ±l bir ekranÄ±n karÅŸÄ±ladÄ±ÄŸÄ±nÄ± gÃ¶relim:
</p>
<a href="{{ base }}/assets/images/odata/proje8.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje8.jpg" alt=""></a><br>

<p>Burada kullanÄ±cÄ± bilgimizi girelim. Fakat burada girdiÄŸimiz kullanÄ±cÄ± local sistemde deÄŸil de farklÄ± sistemlerde yani ERP ve GW sistemlerin ayrÄ± olduÄŸu durumlarda GW kullanÄ±cÄ±
  bilgilerimizi girmemiz gerekli. Fiori dediÄŸimiz zaman aklÄ±mÄ±za GW gelmeli. Uygun kullanÄ±cÄ±yÄ± da girdik ve uygulamamÄ±zÄ±n henÃ¼z veri alÄ±ÅŸveriÅŸi yapmadÄ±ÄŸÄ±mÄ±z hali bu ÅŸekilde:</p>
<a href="{{ base }}/assets/images/odata/proje9.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje9.jpg" alt=""></a><br>  

<p>Herkesin sorunsuz bir ÅŸekilde buraya kadar geldiÄŸine inanÄ±yorum ğŸ˜Š Åimdi iÅŸin esas kÄ±sÄ±mlarÄ±na geldik. Bizim istediÄŸimiz ÅŸey veriler ile iÅŸlem yapmak. Ve bu verileri 
  tutacaÄŸÄ±mÄ±z bir tablomuz olmalÄ±. Bunun kontrolÃ¼nÃ¼ yapabilmek iÃ§in SE11â€™de Entity Typeâ€™Ä±mÄ±zdaki alanlarÄ± iÃ§eren bir tablo oluÅŸturalÄ±m.</p>
<a href="{{ base }}/assets/images/odata/proje10.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje10.jpg" alt=""></a><br>  

<p>Åimdi bu tablo Ã¼zerinden veri alÄ±ÅŸveriÅŸi ile ekrana data gÃ¶nderip gÃ¶nderemediÄŸimizi kontrol edelim. Ä°lk gitmemiz gereken yer yine SEGWâ€™de oluÅŸturduÄŸumuz servisin metotlarÄ±. 
  Backend kodlamalarÄ±mÄ±zÄ± bu metotlar iÃ§inde yazacaÄŸÄ±z.</p>
<a href="{{ base }}/assets/images/odata/proje11.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje11.jpg" alt=""></a><br> 

<p><i>..._DPC_EXT</i> sekmesine girince Inherited Methodslar iÃ§inde kullanabileceÄŸimiz methodlar gÃ¶rÃ¼nÃ¼yor. Biz de hangi methodlarÄ± kullanacaksak saÄŸ tÄ±klayÄ±p Redifine diyoruz ve Redifinitions klasÃ¶rÃ¼nÃ¼n altÄ±na alarak iÃ§erisine kodlarÄ±mÄ±zÄ± yazabiliyoruz. 
Benim daha Ã¶nce oluÅŸturduÄŸum projede kullanmak Ã¼zere Redifine ettiÄŸim metotlar ve aÃ§Ä±klamalarÄ±:
</p>
<a href="{{ base }}/assets/images/odata/proje12.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje12.jpg" alt=""></a><br> 

<ul>
  <li><b>GET_ENTITY: </b>BaÅŸlÄ±k ve kalem bilgileri mantÄ±ÄŸÄ± ile dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼mÃ¼z zaman tek deÄŸer dÃ¶ndÃ¼ren baÅŸlÄ±k, header gibi datalarÄ± GET etmek iÃ§in kullanÄ±lÄ±r.</li>
  <li><b>GET_ENTITYSET: </b>Kalem bilgileri gibi Ã§oklu data verisi GET etmek istediÄŸimiz zaman kullanÄ±lÄ±r.</li>
  <li><b>CREATE_ENTITY: </b>Yeni bir data CREATE etmek istediÄŸimiz zaman kullanÄ±lÄ±r. BÃ¶ylece tabloya very kaydedebiliriz.</li>
  <li><b>DELETE_ENTITY: </b>Tablodan verileri DELETE etmek iÃ§in kullanÄ±lÄ±r.</li>
  <li><b>UPDATE_ENTITY: </b>Varolan datalarÄ± UPDATE etmek iÃ§in kullanÄ±lÄ±r.</li>
</ul>
  
<p>KullanacaÄŸÄ±mÄ±z methodlarÄ± aÃ§Ä±kladÄ±k. Åimdi Ã¶ncelik sÄ±ramÄ±za gÃ¶re hangi method kullanacaksak Redifine edelim ve veriler ile oynayalÄ±m. Buraya veri alÄ±ÅŸveriÅŸi ile ekrana data 
  gÃ¶nderip gÃ¶nderemediÄŸimizi kontrol etmek iÃ§in gelmiÅŸtik. Ekrana veriyi GET methodu ile gÃ¶nderebiliriz. Bunun iÃ§in ilk Ã¶nce GET_Entitityset metodumuzu redefine edelim. Ve 
  iÃ§erisinde SE11â€™de oluÅŸturduÄŸumuz tabloya veri append edelim.</p>
<a href="{{ base }}/assets/images/odata/proje13.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje13.jpg" alt=""></a><br> 

<p>Burada structureÄ±mÄ±za verdiÄŸimiz type ET_ENTITYSET, Ã§Ä±ktÄ± parametremiz, veri aktardÄ±ÄŸÄ±mÄ±z kÄ±sÄ±mdÄ±r. Typeâ€™Ä± bizim oluÅŸturduÄŸumuz entityset tipinde. YukarÄ±da Signature altÄ±nda 
  da hangi parametrenin hangi typeâ€™a sahip olduÄŸunu gÃ¶rebiliyoruz:</p>
<a href="{{ base }}/assets/images/odata/proje14.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje14.jpg" alt=""></a><br> 

<p>Åimdi buraya yazdÄ±ÄŸÄ±mÄ±z datalar Fiori uygulamamÄ±zÄ±n ekranÄ±na gelmiÅŸ mi kontrol edelim: </p>
<a href="{{ base }}/assets/images/odata/proje15.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje15.jpg" alt=""></a><br> 

<p>Ekranda gerekli kontrollerin ardÄ±ndan verilerin geldiÄŸini gÃ¶rdÃ¼k. Åimdi ekranÄ±mÄ±zÄ± daha da gÃ¼zelleÅŸtirelim ve verileri daha net gÃ¶relim. Ã–nce nasÄ±l bir tasarÄ±m istediÄŸimize karar verelim ve ekrandaki gereksiz alanlarÄ± view dosyasÄ±nÄ±n iÃ§inden silelim. 
TasarÄ±mÄ± yaptÄ±k ve verilerin doÄŸru ÅŸekilde ekrana geldiÄŸini tekrar gÃ¶rmÃ¼ÅŸ olduk.
</p>
<a href="{{ base }}/assets/images/odata/proje16.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje16.jpg" alt=""></a><br>

<p>Crud iÅŸlemler yapacaÄŸÄ±mÄ±z bir uygulama yapmaya karar vermiÅŸtik. Ã–yleyse benim verileri girebileceÄŸim input alanlar olmalÄ±, bu alanlarÄ± tanÄ±mlayan labeller ile birlikte. 
  Bu alanlara veri girdiÄŸimiz zaman eklediÄŸimiz veya Ã§Ä±karmak/gÃ¼ncellemek istediÄŸimiz alanlarÄ±n tutulduÄŸu bir tablo olmalÄ±. Butonlar ile bu tabloya veri ekleyip, silip, 
  gÃ¼ncelleme yapabilmeliyiz. 
</p>

{% highlight language %}
<Table id="table" width="auto" items="{ path: '/ListSet', sorter: { path: 'Ad', descending: false } }" noDataText="{worklistView>/tableNoDataText}" 
       busyIndicatorDelay="{worklistView>/tableBusyDelay}" growing="true" growingScrollToLoad="true" updateFinished="onUpdateFinished">
	<headerToolbar>
		<Toolbar>
			<ToolbarSpacer/>
			<Button type="Accept" icon="sap-icon://add" text="Ekle" press="onKisiEkle"/>
		</Toolbar>
	</headerToolbar>
	<columns>
		<Column>
			<Text text="{i18n>id}"/>
		</Column>
	        <Column>
			<Text text="{i18n>ad}"/>
		</Column>
		<Column>
			<Text text="{i18n>soyad}"/>
		</Column>
		<Column>
			<Text text="{i18n>tarih}"/>
		</Column>
		<Column>
			<Text text=""/>
		</Column>
	</columns>
	<items>
		<ColumnListItem>
			<cells>
				<Text text="{Id}" id="id"/>
				<Text text="{Ad}"/>
				<Text text="{Soyad}"/>
				<Text text="{path: 'Tarih', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium', UTC : true }}"/>
				<HBox>
					<Button type="Reject" icon="sap-icon://delete" press="onKisiSil"/>
					<Button icon="sap-icon://synchronize" press="onKisiGuncelle"/>
				</HBox>
			</cells>
		</ColumnListItem>
	</items>
</Table>
{% endhighlight %}

<p><li><i>Tarih itemini bÃ¶yle formatlÄ± ÅŸekilde yazmamÄ±zÄ±n sebebi eÄŸer direct alÄ±rsak okunabilir olmayan formatta ekrana gelmesi. Bu nedenle tarih ile ilgili alanlarÄ± daha 
	okunabilir olmasÄ± aÃ§Ä±sÄ±ndan formatlÄ± biÃ§imde yazÄ±yoruz.</i></li>
</p>
<p>Daha sonra ekle butonuna basÄ±nca aÃ§Ä±lan dialog ekranÄ±mÄ±zÄ±n tasarÄ±mÄ±nÄ± webapp klasÃ¶rÃ¼ altÄ±nda, fragment klasÃ¶rÃ¼ oluÅŸturup bunun iÃ§ine yazÄ±yoruz.</p>
<a href="{{ base }}/assets/images/odata/proje17.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje17.jpg" alt=""></a><br>

<p><b>Crud.fragment.xml:</b></p>
{% highlight language %}
<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core" afterClose="dialogAfterclose">
	<Dialog title="Aktivite DetaylarÄ±" id="dialogEmployeeInstead">
		<content>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" labelSpanXL="3" labelSpanL="3" labelSpanS="12" adjustLabelSpan="false"
				emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleConteinerFullSize="false">
				<f:content>
					<Label text="{i18n>id}"/>
					<Input id="inputKisiId"/>
					<Label text="{i18n>ad}"/>
					<Input id="inputKisiAd"/>
					<Label text="{i18n>soyad}"/>
					<Input id="inputKisiSoyad"></Input>
					<Label text="{i18n>tarih}"/>
					<DatePicker id="dpKayitTarih"/>
				</f:content>
			</f:SimpleForm>
		</content>
		<buttons>
			<Button text="{i18n>kaydet}" press="onKayitFrag" type="Transparent"/>
			<Button text="{i18n>geri}" press="onGeriFrag" type="Transparent"/>
		</buttons>
	</Dialog>
</core:FragmentDefinition>
{% endhighlight %}

<p>Ve controller iÃ§inde butona basÄ±nca fragment dosyasÄ±nÄ± aÃ§masÄ± iÃ§in gerekli komutlarÄ± Worklist.controller.js iÃ§ine yazalÄ±m:</p>
{% highlight language %}
onKisiEkle: function() {
			this._getKayitDialog().open();
		},

		onGeriFrag: function() {
			this._getKayitDialog().close();
		},

		_getKayitDialog: function() {
			if (!this._oKayitDialog) {
				this._oKayitDialog = sap.ui.xmlfragment("abapegitim.zsg_crud_deneme.fragment.crud", this);
				this.getView().addDependent(this._oKayitDialog);
				jQuery.sap.syncStyleClass("sapUiSizeCompact", this.getView(), this._oKayitDialog);
			}
			return this._oKayitDialog;
		}
{% endhighlight %}

<p>Uygulamadan Ã§Ä±kmadan dialog ekranÄ±nÄ± her aÃ§Ä±ÅŸÄ±mÄ±zda eski datalarÄ± gÃ¶rmemek ve dialog pop-upâ€™Ä±nÄ± yenilemek iÃ§in:</p>
{% highlight language %}
dialogAfterclose: function(oEvent) {
        sap.ui.getCore().byId("inputKisiId").setValue("");
        sap.ui.getCore().byId("inputKisiAd").setValue("");
	sap.ui.getCore().byId("inputKisiSoyad").setValue("");
	sap.ui.getCore().byId("dpKayitTarih").setDateValue(new Date());
}
{% endhighlight %}

<p>Verileri ekleme iÅŸlemini ayrÄ± bir pop-up ile yapmak daha estetik durdu.</p>
<a href="{{ base }}/assets/images/odata/proje18.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje18.jpg" alt=""></a><br>

<p>Åimdi gerÃ§ek verilerle dinamik bir yapÄ± kurmaya baÅŸlayabiliriz. Ä°lk olarak verileri kaydedeceÄŸimiz SE11â€™de oluÅŸturduÄŸumuz tablodaki verileri uygulama ekranÄ±mÄ±zdaki tabloda 
	gÃ¶sterilmesini saÄŸlamak iÃ§in GET_ENTITYSET methodumuzun iÃ§ini bu ÅŸekilde dolduralÄ±m:</p>
<p><b>LISTSET_GET_ENTITYSET</b></p>
{% highlight language %}
  METHOD listset_get_entityset.
    DATA lt_list TYPE TABLE OF zsgt_crud_deneme.
    SELECT *
      FROM zsgt_crud_deneme
      INTO TABLE lt_list.
    et_entityset = VALUE #( FOR ls_list IN lt_list
                          ( id    = ls_list-id
                            ad    = ls_list-ad
                            soyad = ls_list-soyad
                            tarih = ls_list-tarih ) ).
  ENDMETHOD.
{% endhighlight %}

<p>Åimdi bu tabloya veri eklemek iÃ§in CREATE_ENTITY methodumuzun iÃ§ini dolduralÄ±m:</p>
<p><b>LISTSET_CREATE_ENTITY</b></p>
{% highlight language %}
    DATA: ls_data TYPE zcl_zsg_crud_deneme_mpc=>ts_list,
          ls_list TYPE zsgt_crud_deneme.
    io_data_provider->read_entry_data( IMPORTING es_data = ls_data ).
    MOVE-CORRESPONDING ls_data TO ls_list.
    MODIFY zsgt_crud_deneme FROM ls_list.
    IF sy-subrc = 0.
      er_entity = ls_data.
    ENDIF.
{% endhighlight %}

<p>Backend kodlamasÄ±nÄ± yaptÄ±ÄŸÄ±mÄ±z iÅŸlemlerin Fiori tarafÄ±nda kontrol edilmesi gerekli. Burada dialog ekranÄ±mÄ±zda verileri girdikten sonra tabloya eklenmesi iÃ§in gerekli ifadeleri 
yazÄ±yoruz:</p>
<p><b>Worklist.controller.js</b></p>
{% highlight language %}
onKayitFrag: function() {
	var that = this;
	var vId = sap.ui.getCore().byId("inputKisiId").getValue();
	var vAd = sap.ui.getCore().byId("inputKisiAd").getValue();
	var vSoyad = sap.ui.getCore().byId("inputKisiSoyad").getValue();
	var vTarih = sap.ui.getCore().byId("dpKayitTarih").getDateValue();
	var sData = {
		Id: vId,
		Ad: vAd,
		Soyad: vSoyad,
		Tarih: vTarih
	};
	sap.ui.core.BusyIndicator.show(); //Bir iÅŸlem devam ederken baÅŸka iÅŸlem baÅŸlatmamak iÃ§in
	this.getView().getModel().create("/ListSet", sData, {
		success: function(oData) {
			sap.ui.core.BusyIndicator.hide();
			that._getKayitDialog().close();
			that.onRefresh();
			MessageToast.show("BaÅŸarÄ±lÄ±");
		},
		error: function(oError) {
			sap.ui.core.BusyIndicator.hide();
			that._getKayitDialog().close();
			MessageToast.show("BaÅŸarÄ±sÄ±z");
		}
	});
}
{% endhighlight %}
<a href="{{ base }}/assets/images/odata/proje19.jpg" data-togle="lightbox" data-max-height="1000"  data-max-width="1000">
<img class="img-blg" src="{{ base }}/assets/images/odata/proje19.jpg" alt=""></a><br>

<p>GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi tabloya verilerimizi kaydettik. Kontrol ettiÄŸinizde se11â€™de oluÅŸturduÄŸunuz tabloya da bu verilerin kaydolduÄŸunu gÃ¶receksiniz. AynÄ± ÅŸekilde silme ve 
 gÃ¼ncelleme iÅŸlemleri iÃ§in gerekli kontrolleri yapalÄ±m:
</p>
<p><b>LISTSET_DELETE_ENTITY</b></p>
{% highlight language %}
  METHOD listset_delete_entity.
    DATA : ls_key_tab TYPE /iwbep/s_mgw_name_value_pair,
           lv_list TYPE zsgt_crud_deneme-id.
    READ TABLE it_key_tab INTO ls_key_tab WITH KEY name = 'Id'.
    lv_list = ls_key_tab-value.
    IF lv_list IS NOT INITIAL.
      DELETE FROM zsgt_crud_deneme WHERE id = lv_list.
    ENDIF.
  ENDMETHOD.
{% endhighlight %}

<p><b>LISTSET_UPDATE_ENTITY</b></p>
{% highlight language %}
  METHOD listset_update_entity.
    DATA: ls_request_input_data TYPE zcl_zsg_crud_deneme_mpc=>ts_list,
          ls_key_tab            TYPE /iwbep/s_mgw_name_value_pair,
          lv_list               TYPE zsgt_crud_deneme-id,
          ls_test               TYPE zsgt_crud_deneme.

    READ TABLE it_key_tab WITH KEY name = 'Id' INTO ls_key_tab.
    lv_list = ls_key_tab-value.
    IF lv_list IS NOT INITIAL.
      io_data_provider->read_entry_data( IMPORTING es_data = ls_request_input_data ).
      UPDATE zsgt_crud_deneme SET id    = ls_request_input_data-id
                                  ad    = ls_request_input_data-ad
                                  soyad = ls_request_input_data-soyad
                                  tarih = ls_request_input_data-tarih
                              WHERE id = lv_list.
      IF sy-subrc IS INITIAL.
        er_entity = ls_request_input_data.
      ENDIF.
    ENDIF.
  ENDMETHOD.
{% endhighlight %}

<p><b>Worklist.controller.js:</b></p>
{% highlight language %}
onInit: function() {
	var sData = {
		Id: "",
		Ad: "",
		Soyad: "",
		Tarih: new Date() //new Date() bugÃ¼nÃ¼n tarihini veriyor. Bu alanÄ± boÅŸ bÄ±rakÄ±nca hata verdiÄŸi iÃ§in bugÃ¼nÃ¼n tarihini verdik.
	};
	var oModel = new JSONModel(sData);
	this.getView().setModel(oModel, "list");
},

onKisiSil: function(oEvent) {
	var that = this;
	var vId = oEvent.getSource().getParent().getBindingContext().getProperty("Id");
	var vAd = oEvent.getSource().getParent().getBindingContext().getProperty("Ad");
	var vSoyad = oEvent.getSource().getParent().getBindingContext().getProperty("Soyad");
	var vTarih = oEvent.getSource().getParent().getBindingContext().getProperty("Tarih");
	var sData = this.getView().getModel("list").getData();
	this.getView().getModel().remove("/ListSet('" + vId + "')", {
		method: "DELETE",
		success: function(data) {
			MessageToast.show(vId + " numaralÄ± aktivite silindi.");
		},
		error: function(e) {
			MessageToast.show(vId + " numaralÄ± aktivite silinemedi.");
		}
	});
},

onKisiGuncelle: function(oEvent) {
	var sLineData = oEvent.getSource().getParent().getBindingContext().getProperty();
	this._getKayitDialog().open();
	sap.ui.getCore().byId("inputKisiId").setValue(sLineData.Id);
        sap.ui.getCore().byId("inputKisiAd").setValue(sLineData.Ad);
	sap.ui.getCore().byId("inputKisiSoyad").setValue(sLineData.Soyad);
	sap.ui.getCore().byId("dpKayitTarih").setDateValue(sLineData.Tarih);
	this.vMethod = "UPDATE";
}
{% endhighlight %}

<p>BÃ¼tÃ¼n bu adÄ±mlarÄ±n ardÄ±ndan CRUD iÅŸlemler yapabildiÄŸimiz temel bir uygulamayÄ± tamamlamÄ±ÅŸ olduk. UygulamanÄ±n eksiklikleri ya da daha nasÄ±l kullanÄ±ÅŸlÄ± ve gÃ¼zel hale getirilebilir 
kÄ±smÄ± bizlere kalmÄ±ÅŸğŸ˜Š. GÃ¶rselleri ile detaylÄ± bir ÅŸekilde anlatmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±m bu yazÄ± umarÄ±m ilgilenenler iÃ§in faydalÄ± bir yazÄ± olmuÅŸtur.<p>
<p>OkuduÄŸunuz iÃ§in teÅŸekkÃ¼r ederim, bir sonraki yazÄ±da gÃ¶rÃ¼ÅŸmek Ã¼zere.</p>

<div id="disqus_thread"></div>
<script>
/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://sehergurel-com-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<script id="dsq-count-scr" src="//sehergurel-com-1.disqus.com/count.js" async></script>
